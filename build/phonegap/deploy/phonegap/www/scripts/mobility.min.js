/**
 * Mobility - Mobility is a super light weight HTML, 
 * CSS, and JS framework built on top of Bootstrap 
 * for developing mobile applications. 
 *
 * @version 0.0.1
 * @author Christian Blanquera <cblanquera@openovate.com>
 * @website https://github.com/cblanquera/mobility
 * @license MIT
 */
!function(i){i(window).on("go-back-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("go-back-click",e.target),a=t(s);try{i(a).length&&i(a).html()&&i.mobility.swap(i(a).html(),"slide-right")}catch(e){}i(window).trigger("mobility-request",[a,"slide-right"])}).on("go-forward-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("go-back-click",e.target),a=t(s);try{i(a).length&&i(a).html()&&i.mobility.swap(i(a).html(),"slide-left")}catch(e){}i(window).trigger("mobility-request",[a,"slide-left"])}).on("focus-input-group-init",function(n,t){t=i(t),t.find("label").each(function(){i(this).click(function(){t.find("label input").each(function(){this.checked?i(this).parents("label:first").addClass("active"):i(this).parents("label:first").removeClass("active")})})})}).on("tab-switch-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("tab-switch-click",e.target),a=i(t(s));s.siblings().each(function(){var n=i(this).removeClass("active").attr("href");i(n).addClass("hide")}),s.addClass("active"),a.removeClass("hide")}).on("modal-open-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("modal-open-click",e.target),a=i(t(s)),d=function(){a.unbind("webkitTransitionEnd",d).removeClass("sliding")};a.addClass("sliding-down").removeClass("hide"),a[0].offsetWidth,a.removeClass("sliding-down").on("webkitTransitionEnd",d).addClass("sliding")}).on("modal-close-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("modal-close-click",e.target),a=i(t(s)),d=function(){a.unbind("webkitTransitionEnd",d).removeClass("sliding").removeClass("sliding-down").addClass("hide")};a[0].offsetWidth,a.on("webkitTransitionEnd",d).addClass("sliding").addClass("sliding-down")}).on("popover-open-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("popover-open-click",e.target),a=i(t(s));a.removeClass("hide")}).on("popover-close-click",function(e){e.preventDefault(),e.originalEvent.stop=!0;var s=n("popover-close-click",e.target),a=i(t(s));a.addClass("hide")});var n=function(n,t){var e,s,a,d=null;if(t=i(t),t.attr("data-do")&&t.attr("data-on"))for(s=t.attr("data-do"),a=t.attr("data-on").split("|"),a.unshift("init"),e=0;e<a.length;e++)if(s+"-"+a[e]===n)return t;return t.parents("[data-do]").each(function(){if(d)return!1;for(s=i(this).attr("data-do"),a=i(this).attr("data-on").split("|"),a.unshift("init"),e=0;e<a.length;e++)if(s+"-"+a[e]===n)return d=i(this),!1}),d||t},t=function(n){n=i(n);var t=n.attr("data-target");return t&&t.length||(t=n.attr("href")),t};i.extend({mobility:{swap:function(n,t){var e=i('<section class="screen current">').html(n),s=i("section.screen.current"),a=function(){e.unbind("webkitTransitionEnd",a).removeClass("sliding").removeClass("sliding-up").removeClass("sliding-right").removeClass("sliding-down").removeClass("sliding-left"),s.remove()},d=function(){s.remove()};switch(t){case"slide-left":i(document.body).append(e),e.doon().addClass("sliding-right"),e[0].offsetWidth,e.removeClass("sliding-right").on("webkitTransitionEnd",a).addClass("sliding"),s.addClass("sliding").addClass("sliding-left");break;case"slide-right":i(document.body).append(e),e.doon().addClass("sliding-left"),e[0].offsetWidth,e.removeClass("sliding-left").on("webkitTransitionEnd",a).addClass("sliding"),s.addClass("sliding").addClass("sliding-right");break;case"slide-up":i(document.body).append(e),e.doon().addClass("sliding-down"),e[0].offsetWidth,e.removeClass("sliding-down").on("webkitTransitionEnd",a).addClass("sliding"),s.addClass("sliding").addClass("sliding-up");break;case"slide-down":i(document.body).append(e),e.doon().addClass("sliding-up"),e[0].offsetWidth,e.removeClass("sliding-up").on("webkitTransitionEnd",a).addClass("sliding"),s.addClass("sliding").addClass("sliding-down");break;case"fade":i(document.body).prepend(e),e.doon(),s.on("webkitTransitionEnd",d).addClass("fade");break;default:e.appendTo(document.body).doon(),s.remove()}},start:function(){i(document.body).doon()}}})}(jQuery);